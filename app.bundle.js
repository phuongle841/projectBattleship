(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(354),s=n.n(r),a=n(314),i=n.n(a)()(s());i.push([e.id,"body {\n  background-color: antiquewhite;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.container {\n  width: 1000px;\n  height: 500px;\n  background-color: #eee;\n  display: flex;\n  align-content: space-around;\n  gap: 2%;\n  user-select: none;\n}\n.container > div {\n  width: 50%;\n  height: 100%;\n  background-color: rgb(19, 41, 116);\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  padding: 2px;\n  gap: 2px;\n  box-shadow: 10px 10px 2px #525252;\n}\n.cell {\n  background-color: #fabd7f;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.cell:hover {\n  background-color: #eee;\n}\n.cell.ship {\n  background-color: #65adce;\n}\n.cell.missed {\n  background-color: #525252;\n}\n.cell.hit {\n  background-color: #ff7e7e;\n}\n.cell.stuck {\n  background-color: #651d7a;\n}\n.cell.hide {\n  background-color: #f5f5dc;\n}\n.board {\n  display: flex;\n  width: 100%;\n  justify-content: space-around;\n}\n#reset {\n  padding: 5px 20px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  background-color: #65adce;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,8BAA8B;EAC9B,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,aAAa;EACb,2BAA2B;EAC3B,OAAO;EACP,iBAAiB;AACnB;AACA;EACE,UAAU;EACV,YAAY;EACZ,kCAAkC;EAClC,aAAa;EACb,sCAAsC;EACtC,mCAAmC;EACnC,YAAY;EACZ,QAAQ;EACR,iCAAiC;AACnC;AACA;EACE,yBAAyB;EACzB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,eAAe;AACjB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,aAAa;EACb,WAAW;EACX,6BAA6B;AAC/B;AACA;EACE,iBAAiB;EACjB,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;AAC3B",sourcesContent:["body {\n  background-color: antiquewhite;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.container {\n  width: 1000px;\n  height: 500px;\n  background-color: #eee;\n  display: flex;\n  align-content: space-around;\n  gap: 2%;\n  user-select: none;\n}\n.container > div {\n  width: 50%;\n  height: 100%;\n  background-color: rgb(19, 41, 116);\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  padding: 2px;\n  gap: 2px;\n  box-shadow: 10px 10px 2px #525252;\n}\n.cell {\n  background-color: #fabd7f;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.cell:hover {\n  background-color: #eee;\n}\n.cell.ship {\n  background-color: #65adce;\n}\n.cell.missed {\n  background-color: #525252;\n}\n.cell.hit {\n  background-color: #ff7e7e;\n}\n.cell.stuck {\n  background-color: #651d7a;\n}\n.cell.hide {\n  background-color: #f5f5dc;\n}\n.board {\n  display: flex;\n  width: 100%;\n  justify-content: space-around;\n}\n#reset {\n  padding: 5px 20px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  background-color: #65adce;\n}\n"],sourceRoot:""}]);const o=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,s,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(i[c]=!0)}for(var h=0;h<e.length;h++){var l=[].concat(e[h]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),s&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=s):l[4]="".concat(s)),t.push(l))}},t}},354:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(s," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],o=0;o<e.length;o++){var c=e[o],h=r.base?c[0]+r.base:c[0],l=a[h]||0,d="".concat(h," ").concat(l);a[h]=l+1;var u=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var A=s(p,r);r.byIndex=o,t.splice(o,0,{identifier:d,updater:A,references:1})}i.push(d)}return i}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var a=r(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var o=n(a[i]);t[o].references--}for(var c=r(e,s),h=0;h<a.length;h++){var l=n(a[h]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,s&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(72),s=n.n(r),a=n(825),i=n.n(a),o=n(659),c=n.n(o),h=n(56),l=n.n(h),d=n(540),u=n.n(d),p=n(113),A=n.n(p),m=n(208),f={};f.styleTagTransform=A(),f.setAttributes=l(),f.insert=c().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=u(),s()(m.A,f),m.A&&m.A.locals&&m.A.locals;const B=class{name;GameBoardInstance;constructor(e){this.name=e}},y=class{length;hits;sunk;constructor(e){this.length=e,this.hits=0,this.sunk=!1}hit(){this.hits++,this.hits==this.length&&(this.sunk=!0)}isSunk(){return this.sunk}},g=class{width;height;closer;previousHits;hits;stuckSpots;misses;shipList;constructor(){this.width=10,this.height=10,this.closer=[],this.previousHits=[],this.hits=[],this.stuckSpots=[],this.misses=[],this.shipList=[]}createShip(e,t,n,r){if(e>n&&(n=[e,e=n][0]),t>r&&(r=[t,t=r][0]),this.#e(e,t,n,r))return!1;let s=this.#t(e,t,n,r),a={ship:new y(s),xBegin:e,yBegin:t,xEnd:n,yEnd:r,ATField:this.#n(e,t,n,r)};return this.shipList.push(a),!0}#t(e,t,n,r){return 1==Math.abs(e-n)?Math.abs(t-r):Math.abs(e-n)}#e(...e){return!(this.#r(e)&&!this.#s(e))}#r(e){let t=!0;return e.forEach((e=>{e>10&&e<0&&(t=!1)})),t}#s(e){let t=!1;return this.#a(e[0],e[1],e[2],e[3]).forEach((e=>{this.shipList.forEach((n=>{n.ATField.forEach((n=>{e[0]==n[0]&&e[1]==n[1]&&(t=!0)})),this.#a(n.xBegin,n.yBegin,n.xEnd,n.yEnd).forEach((n=>{e[0]==n[0]&&e[1]==n[1]&&(t=!0)}))}))})),t}#a(e,t,n,r){let s=[];if(n-e==1)for(let n=t;n<r;n++)s.push([e,n]);else for(let r=e;r<n;r++)s.push([r,t]);return s}getHits(e,t){let n=!1;return this.#i(e,t)||(this.shipList.forEach((r=>{e>=r.xBegin&&e<r.xEnd&&t>=r.yBegin&&t<r.yEnd&&(r.ship.hit(),n=!0)})),n?(this.hits.push([e,t]),this.#o(e,t).forEach((e=>{this.stuckSpots.push(e)})),this.#c(e,t)):this.misses.push([e,t])),n}#n(e,t,n,r){let s=[];if(n-e==1){s.push([e,t-1]),s.push([e,r]);for(let a=t-1;a<=r;a++)s.push([e-1,a]),s.push([n,a])}else{s.push([e-1,t]),s.push([n,t]);for(let a=e-1;a<=n;a++)s.push([a,t-1]),s.push([a,r])}return s}#i(e,t){let n=!1;return this.hits.forEach((r=>{r[0]==e&&r[1]==t&&(n=!0)})),this.misses.forEach((r=>{r[0]==e&&r[1]==t&&(n=!0)})),n}#o(e,t){return[[e-1,t-1],[e-1,+t+1],[+e+1,t-1],[+e+1,+t+1]]}#c(e,t){this.shipList.forEach((n=>{if(e>=n.xBegin&&e<n.xEnd&&t>=n.yBegin&&t<n.yEnd){let e=n.ATField,t=[];n.ship.isSunk()&&e.forEach((e=>{let n=!1;this.stuckSpots.forEach((t=>{t[0]==e[0]&&t[1]==e[1]&&(n=!0)})),!n&&t.push(e)})),t.forEach((e=>this.stuckSpots.push(e)))}}))}checkAllSunk(){let e=!0;return this.shipList.forEach((t=>{0!=t.ship.sunk||(e=!1)})),e}},E=class{GameBoard;name;base;controller;constructor(e){this.controller=e}render(e,t){this.GameBoard=e,this.name=t,this.base=document.querySelector(`.${this.name}`),this.reRender()}reRender(){this.base.innerHTML="";for(let e=0;e<10;e++)for(let t=0;t<10;t++){let n=t,r=e,s=document.createElement("div");s.dataset.x=n,s.dataset.y=r,s.classList.add("cell"),s.innerHTML=`${n}-${r}`,this.base.appendChild(s),s.addEventListener("click",(()=>{let e=this.GameBoard.getHits(s.dataset.x,s.dataset.y);this.reRender(),this.controller.updateGameState(e)}))}"player1"==this.name&&this.#h(this.GameBoard.shipList),this.#l(this.GameBoard.misses),this.#d(this.GameBoard.hits),this.#u(this.GameBoard.stuckSpots)}hideMap(){this.base.innerHTML="";for(let e=0;e<10;e++)for(let t=0;t<10;t++){let n=t,r=e,s=document.createElement("div");s.dataset.x=n,s.dataset.y=r,s.classList.add("cell"),s.classList.add("hide"),this.base.appendChild(s)}}openMap(){this.reRender()}#h(e){let t=this.base.querySelectorAll(".cell");e.forEach((e=>{this.#p(e.xBegin,e.yBegin,e.xEnd,e.yEnd).forEach((e=>{t.forEach((t=>{t.dataset.x==e[0]&&t.dataset.y==e[1]&&t.classList.add("ship")}))}))}))}#p(e,t,n,r){let s=[];if(n-e==1)for(let n=t;n<r;n++)s.push([e,n]);else for(let r=e;r<n;r++)s.push([r,t]);return s}#l(e){let t=this.base.querySelectorAll(".cell");e.forEach((e=>{t.forEach((t=>{t.dataset.x==e[0]&&t.dataset.y==e[1]&&t.classList.add("missed")}))}))}#d(e){let t=this.base.querySelectorAll(".cell");e.forEach((e=>{t.forEach((t=>{t.dataset.x==e[0]&&t.dataset.y==e[1]&&t.classList.add("hit")}))}))}#u(e){let t=this.base.querySelectorAll(".cell");e.forEach((e=>{t.forEach((t=>{t.dataset.x==e[0]&&t.dataset.y==e[1]&&t.classList.add("stuck")}))}))}},v=class{GameBoard;constructor(e){this.GameBoard=e}placeShip(){this.generate4costs(),this.generate3costs(),this.generate2costs(),this.generate1costs()}generate4costs(){let e=this.randomIntFromInterval(0,1);for(;;)if(e){let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,6),r=n+4;if(this.GameBoard.createShip(e,n,t,r))break}else{let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,6),r=n+4;if(this.GameBoard.createShip(n,e,r,t))break}}generate3costs(){let e=this.randomIntFromInterval(0,1);for(let t=0;t<2;t++)for(;;)if(e){let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,7),r=n+3;if(this.GameBoard.createShip(e,n,t,r))break}else{let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,7),r=n+3;if(this.GameBoard.createShip(n,e,r,t))break}}generate2costs(){let e=this.randomIntFromInterval(0,1);for(let t=0;t<3;t++)for(;;)if(e){let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,8),r=n+2;if(this.GameBoard.createShip(e,n,t,r))break}else{let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,8),r=n+2;if(this.GameBoard.createShip(n,e,r,t))break}}generate1costs(){let e=this.randomIntFromInterval(0,1);for(let t=0;t<4;t++)for(;;)if(e){let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,9),r=n+1;if(this.GameBoard.createShip(e,n,t,r))break}else{let e=this.randomIntFromInterval(0,9),t=e+1,n=this.randomIntFromInterval(0,9),r=n+1;if(this.GameBoard.createShip(n,e,r,t))break}}randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}checkInRange(e){let t=e+4;return t>=0&&t<=10?t:t-9}},C=class{controller;functionButtons;constructor(e){this.controller=e,this.functionButtons=document.querySelector(".setting"),this.resetButton()}resetButton(){this.functionButtons.querySelector("#reset").addEventListener("click",(()=>{this.controller.resetGame()}))}};new class{turn;Player1;Player2;BoardRenderInstance1;BoardRenderInstance2;GameBoard1;GameBoard2;Winner;constructor(e,t){this.Player1=e,this.Player2=t,this.initGame()}initGame(){this.GameBoard1=new g,this.GameBoard2=new g,new C(this),this.Player2.setGameBoard(this.GameBoard1),this.Player2.setController(this);const e=new v(this.GameBoard1),t=new v(this.GameBoard2);this.BoardRenderInstance1=new E(this),this.BoardRenderInstance2=new E(this),e.placeShip(),t.placeShip(),this.BoardRenderInstance1.render(this.GameBoard1,this.Player1.name),this.BoardRenderInstance2.render(this.GameBoard2,this.Player2.name),this.turn="Player1",this.BoardRenderInstance1.openMap()}updateGameState(e){1==e?this.continueTurn():this.switchTurn(),this.checkWinner()}continueTurn(){"Player1"==this.turn||"Player2"==this.turn&&this.player2Turn()}switchTurn(){"Player1"==this.turn?(this.turn="Player2",this.player2Turn()):"Player2"==this.turn&&(this.turn="Player1")}player2Turn(){this.Player2.hit()}checkWinner(){this.GameBoard1.checkAllSunk()&&(this.Winner="player 2",this.endGame()),this.GameBoard2.checkAllSunk()&&(this.Winner="player 1",this.endGame())}endGame(){alert(`${this.turn} is win`),this.resetGame()}resetGame(){this.initGame()}}(new B("player1"),new class extends B{hitPoints;gameBoard;constructor(e,t){super(e),this.hitPoints=[]}setGameBoard(e){this.gameBoard=e}setController(e){this.controller=e}hit(){let e=this.randomizePoint();document.querySelectorAll(".player1>div").forEach((t=>{e[0]==t.dataset.x&&e[1]==t.dataset.y&&(this.hitPoints.push(e),t.click())}))}randomizePoint(){let e;for(;;){let t=[this.randomIntFromInterval(),this.randomIntFromInterval()];if(!this.checkDuplicate(t)){e=t;break}}return e}checkDuplicate(e){let t=!1;return this.hitPoints.forEach((n=>{n[0]==e[0]&&n[1]==e[1]&&(t=!0)})),t}randomIntFromInterval(e=0,t=9){return Math.floor(Math.random()*(t-e+1)+e)}}("player2"))})();
//# sourceMappingURL=app.bundle.js.map